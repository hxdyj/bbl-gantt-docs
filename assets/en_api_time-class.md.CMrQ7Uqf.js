import{_ as t,c as e,o as i,ag as s}from"./chunks/framework.UtM2fnOC.js";const k=JSON.parse('{"title":"Time Class","description":"","frontmatter":{"layout":"doc","footer":false},"headers":[],"relativePath":"en/api/time-class.md","filePath":"en/api/time-class.md","lastUpdated":1770199835000}'),n={name:"en/api/time-class.md"};function l(h,a,r,o,d,c){return i(),e("div",null,[...a[0]||(a[0]=[s(`<h1 id="time-class" tabindex="-1">Time Class <a class="header-anchor" href="#time-class" aria-label="Permalink to &quot;Time Class&quot;">​</a></h1><p>Class for time-related operations, such as calculating the scale of the time axis, calculating the time based on the x coordinate, and calculating the x coordinate based on the time.</p><h2 id="constructor" tabindex="-1">Constructor <a class="header-anchor" href="#constructor" aria-label="Permalink to &quot;Constructor&quot;">​</a></h2><h3 id="constructor-1" tabindex="-1">constructor <a class="header-anchor" href="#constructor-1" aria-label="Permalink to &quot;constructor&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// constructor function, which takes the Gantt instance as a parameter</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(gantt: Gantt): Time</span></span></code></pre></div><h2 id="instance-properties" tabindex="-1">Instance Properties <a class="header-anchor" href="#instance-properties" aria-label="Permalink to &quot;Instance Properties&quot;">​</a></h2><h3 id="gantt" tabindex="-1">gantt <a class="header-anchor" href="#gantt" aria-label="Permalink to &quot;gantt&quot;">​</a></h3><p>Gantt instance</p><h3 id="ticks" tabindex="-1">ticks <a class="header-anchor" href="#ticks" aria-label="Permalink to &quot;ticks&quot;">​</a></h3><p>Caculate the number of ticks based on the user-defined column.</p><h3 id="timeticks" tabindex="-1">timeTicks <a class="header-anchor" href="#timeticks" aria-label="Permalink to &quot;timeTicks&quot;">​</a></h3><p>Caculate the time interval between each tick based on the user-defined column.</p><h3 id="steptime" tabindex="-1">stepTime <a class="header-anchor" href="#steptime" aria-label="Permalink to &quot;stepTime&quot;">​</a></h3><p>Transform the user-defined column timeMetric into a step size in milliseconds.</p><h3 id="fixunit" tabindex="-1">fixUnit <a class="header-anchor" href="#fixunit" aria-label="Permalink to &quot;fixUnit&quot;">​</a></h3><p>Find the appropriate unit for adding or subtracting dayjs when the user-defined column timeMetric is fixed.</p><h3 id="fixunitsteptime" tabindex="-1">fixUnitStepTime <a class="header-anchor" href="#fixunitsteptime" aria-label="Permalink to &quot;fixUnitStepTime&quot;">​</a></h3><p>Transform fixUnit into milliseconds.</p><h3 id="starttime" tabindex="-1">startTime <a class="header-anchor" href="#starttime" aria-label="Permalink to &quot;startTime&quot;">​</a></h3><p>View start time</p><h3 id="endtime" tabindex="-1">endTime <a class="header-anchor" href="#endtime" aria-label="Permalink to &quot;endTime&quot;">​</a></h3><p>View end time, which is different from the gantt instance&#39;s endTime, because the view may be larger than the gantt content, so the view&#39;s endTime may be greater than the gantt&#39;s endTime.</p><h2 id="instance-methods" tabindex="-1">Instance Methods <a class="header-anchor" href="#instance-methods" aria-label="Permalink to &quot;Instance Methods&quot;">​</a></h2><h3 id="time2x" tabindex="-1">time2x <a class="header-anchor" href="#time2x" aria-label="Permalink to &quot;time2x&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Calculate the x coordinate based on the time and start time</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time2x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(time: Dayjs, startTime</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Dayjs): number</span></span></code></pre></div><h3 id="x2time" tabindex="-1">x2time <a class="header-anchor" href="#x2time" aria-label="Permalink to &quot;x2time&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get time by x</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">x2time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x: number, startTime</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Dayjs): Dayjs</span></span></code></pre></div><h3 id="containerscrolllefttime" tabindex="-1">containerScrollLeftTime <a class="header-anchor" href="#containerscrolllefttime" aria-label="Permalink to &quot;containerScrollLeftTime&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Calculates the time corresponding to the position of the left scroll bar of the container</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">containerScrollLeftTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): Dayjs</span></span></code></pre></div><h3 id="stagewidthtime" tabindex="-1">stageWidthTime <a class="header-anchor" href="#stagewidthtime" aria-label="Permalink to &quot;stageWidthTime&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Calculates the time corresponding to the width of the stage</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stageWidthTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): Dayjs</span></span></code></pre></div><h3 id="length2milliseconds" tabindex="-1">length2milliseconds <a class="header-anchor" href="#length2milliseconds" aria-label="Permalink to &quot;length2milliseconds&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Calculates the milliseconds based on the length of the time axis</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">length2milliseconds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(length: number): number</span></span></code></pre></div><h3 id="getwidthbytwotime" tabindex="-1">getWidthByTwoTime <a class="header-anchor" href="#getwidthbytwotime" aria-label="Permalink to &quot;getWidthByTwoTime&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Calculates the width of the time axis based on two times</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getWidthByTwoTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(time1: Dayjs, time2: Dayjs): number</span></span></code></pre></div><h3 id="dayjs2duration" tabindex="-1">dayjs2duration <a class="header-anchor" href="#dayjs2duration" aria-label="Permalink to &quot;dayjs2duration&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Convert Dayjs time object to duration format (in seconds)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dayjs2duration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(time: Dayjs): number</span></span></code></pre></div><h3 id="gettickbyindex" tabindex="-1">getTickByIndex <a class="header-anchor" href="#gettickbyindex" aria-label="Permalink to &quot;getTickByIndex&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get the tick time by tick index</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getTickByIndex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(index: number): Dayjs</span></span></code></pre></div><h3 id="gettimetickbyindex" tabindex="-1">getTimeTickByIndex <a class="header-anchor" href="#gettimetickbyindex" aria-label="Permalink to &quot;getTimeTickByIndex&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get the time tick by time tick index</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getTimeTickByIndex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(index: number): Dayjs</span></span></code></pre></div><h3 id="lasttick" tabindex="-1">lastTick <a class="header-anchor" href="#lasttick" aria-label="Permalink to &quot;lastTick&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get the last tick time</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lastTick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): Dayjs</span></span></code></pre></div><h3 id="lasttimetick" tabindex="-1">lastTimeTick <a class="header-anchor" href="#lasttimetick" aria-label="Permalink to &quot;lastTimeTick&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get the last time tick</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lastTimeTick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): Dayjs</span></span></code></pre></div><h3 id="getticksiterator" tabindex="-1">getTicksIterator <a class="header-anchor" href="#getticksiterator" aria-label="Permalink to &quot;getTicksIterator&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get ticks iterator for traversing ticks within the visible area</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getTicksIterator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): Generator</span></span></code></pre></div><h3 id="gettimeticksiterator" tabindex="-1">getTimeTicksIterator <a class="header-anchor" href="#gettimeticksiterator" aria-label="Permalink to &quot;getTimeTicksIterator&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get time ticks iterator for traversing time ticks within the visible area</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getTimeTicksIterator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): Generator</span></span></code></pre></div><h3 id="getnoneeventstarttime" tabindex="-1">getNoneEventStartTime <a class="header-anchor" href="#getnoneeventstarttime" aria-label="Permalink to &quot;getNoneEventStartTime&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Get the start time when there are no events</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getNoneEventStartTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): Dayjs</span></span></code></pre></div>`,51)])])}const m=t(n,[["render",l]]);export{k as __pageData,m as default};
