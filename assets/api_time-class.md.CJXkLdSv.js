import{_ as i,c as s,o as t,ag as e}from"./chunks/framework.UtM2fnOC.js";const k=JSON.parse('{"title":"Time 类","description":"","frontmatter":{"layout":"doc","footer":false},"headers":[],"relativePath":"api/time-class.md","filePath":"zh/api/time-class.md","lastUpdated":1770199835000}'),n={name:"api/time-class.md"};function l(h,a,p,d,r,o){return t(),s("div",null,[...a[0]||(a[0]=[e(`<h1 id="time-类" tabindex="-1">Time 类 <a class="header-anchor" href="#time-类" aria-label="Permalink to &quot;Time 类&quot;">​</a></h1><p>时间相关的类，计算时间轴的刻度，根据 x 坐标计算时间，根据时间计算 x 坐标等</p><h2 id="构造函数" tabindex="-1">构造函数 <a class="header-anchor" href="#构造函数" aria-label="Permalink to &quot;构造函数&quot;">​</a></h2><h3 id="constructor" tabindex="-1">constructor <a class="header-anchor" href="#constructor" aria-label="Permalink to &quot;constructor&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 构造函数，传入 Gantt 实例</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(gantt: Gantt): Time</span></span></code></pre></div><h2 id="实例属性" tabindex="-1">实例属性 <a class="header-anchor" href="#实例属性" aria-label="Permalink to &quot;实例属性&quot;">​</a></h2><h3 id="gantt" tabindex="-1">gantt <a class="header-anchor" href="#gantt" aria-label="Permalink to &quot;gantt&quot;">​</a></h3><p>Gantt 实例</p><h3 id="ticks" tabindex="-1">ticks <a class="header-anchor" href="#ticks" aria-label="Permalink to &quot;ticks&quot;">​</a></h3><p>用户划分的 column 算出的 ticks 数量</p><h3 id="timeticks" tabindex="-1">timeTicks <a class="header-anchor" href="#timeticks" aria-label="Permalink to &quot;timeTicks&quot;">​</a></h3><p>用户划分的 column 算出的 ticks 数量</p><h3 id="steptime" tabindex="-1">stepTime <a class="header-anchor" href="#steptime" aria-label="Permalink to &quot;stepTime&quot;">​</a></h3><p>将用户划分的 column timeMetric 统一转换成毫秒数的步长</p><h3 id="fixunit" tabindex="-1">fixUnit <a class="header-anchor" href="#fixunit" aria-label="Permalink to &quot;fixUnit&quot;">​</a></h3><p>根据用户划分的 column timeMetric 找到合适的 dayjs 添加或者减少时候的单位</p><h3 id="fixunitsteptime" tabindex="-1">fixUnitStepTime <a class="header-anchor" href="#fixunitsteptime" aria-label="Permalink to &quot;fixUnitStepTime&quot;">​</a></h3><p>fixUnit 转换成毫秒数</p><h3 id="starttime" tabindex="-1">startTime <a class="header-anchor" href="#starttime" aria-label="Permalink to &quot;startTime&quot;">​</a></h3><p>视图开始时间</p><h3 id="endtime" tabindex="-1">endTime <a class="header-anchor" href="#endtime" aria-label="Permalink to &quot;endTime&quot;">​</a></h3><p>视图结束时间，和 gantt 实例的 endTime 不同点在于，视图有时候可能大，gantt 内容填充不满，所以视图的 endTime 可能比 gantt 的 endTime 大</p><h2 id="实例方法" tabindex="-1">实例方法 <a class="header-anchor" href="#实例方法" aria-label="Permalink to &quot;实例方法&quot;">​</a></h2><h3 id="time2x" tabindex="-1">time2x <a class="header-anchor" href="#time2x" aria-label="Permalink to &quot;time2x&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 根据时间和开始时间计算 x 坐标</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time2x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(time: Dayjs, startTime</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Dayjs): number</span></span></code></pre></div><h3 id="x2time" tabindex="-1">x2time <a class="header-anchor" href="#x2time" aria-label="Permalink to &quot;x2time&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 根据 x 坐标和开始时间计算时间</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">x2time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x: number, startTime</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Dayjs): Dayjs</span></span></code></pre></div><h3 id="containerscrolllefttime" tabindex="-1">containerScrollLeftTime <a class="header-anchor" href="#containerscrolllefttime" aria-label="Permalink to &quot;containerScrollLeftTime&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 计算当前 container 左侧滚动条的位置对应的时间</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">containerScrollLeftTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): Dayjs</span></span></code></pre></div><h3 id="stagewidthtime" tabindex="-1">stageWidthTime <a class="header-anchor" href="#stagewidthtime" aria-label="Permalink to &quot;stageWidthTime&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 计算 stage 宽度对应的时间</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stageWidthTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): Dayjs</span></span></code></pre></div><h3 id="length2milliseconds" tabindex="-1">length2milliseconds <a class="header-anchor" href="#length2milliseconds" aria-label="Permalink to &quot;length2milliseconds&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 根据长度计算毫秒数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">length2milliseconds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(length: number): number</span></span></code></pre></div><h3 id="getwidthbytwotime" tabindex="-1">getWidthByTwoTime <a class="header-anchor" href="#getwidthbytwotime" aria-label="Permalink to &quot;getWidthByTwoTime&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 根据两个时间计算出时间之间的宽度</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getWidthByTwoTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(time1: Dayjs, time2: Dayjs): number</span></span></code></pre></div><h3 id="dayjs2duration" tabindex="-1">dayjs2duration <a class="header-anchor" href="#dayjs2duration" aria-label="Permalink to &quot;dayjs2duration&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 将 Dayjs 时间对象转换为 duration 格式（秒为单位）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dayjs2duration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(time: Dayjs): number</span></span></code></pre></div><h3 id="gettickbyindex" tabindex="-1">getTickByIndex <a class="header-anchor" href="#gettickbyindex" aria-label="Permalink to &quot;getTickByIndex&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 根据刻度索引获取对应的时间</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getTickByIndex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(index: number): Dayjs</span></span></code></pre></div><h3 id="gettimetickbyindex" tabindex="-1">getTimeTickByIndex <a class="header-anchor" href="#gettimetickbyindex" aria-label="Permalink to &quot;getTimeTickByIndex&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 根据时间刻度索引获取对应的时间</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getTimeTickByIndex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(index: number): Dayjs</span></span></code></pre></div><h3 id="lasttick" tabindex="-1">lastTick <a class="header-anchor" href="#lasttick" aria-label="Permalink to &quot;lastTick&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 获取最后一个刻度的时间</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lastTick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): Dayjs</span></span></code></pre></div><h3 id="lasttimetick" tabindex="-1">lastTimeTick <a class="header-anchor" href="#lasttimetick" aria-label="Permalink to &quot;lastTimeTick&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 获取最后一个时间刻度的时间</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lastTimeTick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): Dayjs</span></span></code></pre></div><h3 id="getticksiterator" tabindex="-1">getTicksIterator <a class="header-anchor" href="#getticksiterator" aria-label="Permalink to &quot;getTicksIterator&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 获取刻度迭代器，用于遍历可视区域内的刻度</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getTicksIterator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): Generator</span></span></code></pre></div><h3 id="gettimeticksiterator" tabindex="-1">getTimeTicksIterator <a class="header-anchor" href="#gettimeticksiterator" aria-label="Permalink to &quot;getTimeTicksIterator&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 获取时间刻度迭代器，用于遍历可视区域内的时间刻度</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getTimeTicksIterator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): Generator</span></span></code></pre></div><h3 id="getnoneeventstarttime" tabindex="-1">getNoneEventStartTime <a class="header-anchor" href="#getnoneeventstarttime" aria-label="Permalink to &quot;getNoneEventStartTime&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 获取无事件时的开始时间</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getNoneEventStartTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): Dayjs</span></span></code></pre></div>`,51)])])}const g=i(n,[["render",l]]);export{k as __pageData,g as default};
